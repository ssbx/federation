#!/bin/sh

# easy makefile
echo '
.PHONY: all clean_all

all:
	make -C build all

clean_all:
	rm -rf build; rm Makefile

%: 
	make -C build $@
' > Makefile

git submodule init
git submodule update --init --recursive

# cleanup build dir if exist
rm -rf build

# create Unix Makefiles project
mkdir build && cd build && cmake ..
